<%- include('../partials/header') %>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

<form action="/jobs/search" method="get">
  <input type="text" name="name" id="">
  <input type="submit" value="search">
</form>
<h1>Index of Jobs</h1>

<nav aria-label="Page navigation example">
    <ul class="pagination">
        <!-- link to current page with the help of pagination module /jobs?page=<%# = allJobs.page %> -->
      <li class="page-item"><a class="page-link" href="/jobs?page=<%= allJobs.prevPage %>">Previous</a></li>
      <li class="page-item"><a class="page-link" href="/jobs?page=<%= allJobs.page %>"><%= allJobs.page %></a></li>
      <li class="page-item"><a class="page-link" href="/jobs?page=<%= allJobs.page + 1 %>"><%= allJobs.page + 1 %></a></li>
      <li class="page-item"><a class="page-link" href="/jobs?page=<%= allJobs.page + 2 %>"><%= allJobs.page + 2 %></a></li>
      <li class="page-item"><a class="page-link" href="/jobs?page=<%= allJobs.nextPage %>">Next</a></li>
    </ul>
  </nav>

<% for(let job of allJobs.docs /* alljobs.doc because we are using pagination*/ ){ %>
    <div><%= job.companyName %> - <a href="/jobs/<%= job._id %>">View More</a></div>
<% } %>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.4/jquery.min.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/js/bootstrap.min.js"></script>

<%- include('../partials/footer') %>
    
